(self.webpackChunkshell=self.webpackChunkshell||[]).push([[592],{92393:(K,C,o)=>{function s(n){this.message=n}o.d(C,{Z:()=>f}),(s.prototype=new Error).name="InvalidCharacterError";var M=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(n){var c=String(n).replace(/=+$/,"");if(c.length%4==1)throw new s("'atob' failed: The string to be decoded is not correctly encoded.");for(var _,l,i=0,E=0,v="";l=c.charAt(E++);~l&&(_=i%4?64*_+l:l,i++%4)?v+=String.fromCharCode(255&_>>(-2*i&6)):0)l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(l);return v};function d(n){this.message=n}(d.prototype=new Error).name="InvalidTokenError";const f=function t(n,c){if("string"!=typeof n)throw new d("Invalid token specified");var _=!0===(c=c||{}).header?0:1;try{return JSON.parse(function S(n){var c=n.replace(/-/g,"+").replace(/_/g,"/");switch(c.length%4){case 0:break;case 2:c+="==";break;case 3:c+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(M(c).replace(/(.)/g,function(l,i){var E=i.charCodeAt(0).toString(16).toUpperCase();return E.length<2&&(E="0"+E),"%"+E}))}catch{return M(c)}}(n.split(".")[_]))}catch(l){throw new d("Invalid token specified: "+l.message)}}},59975:(K,C,o)=>{o.r(C),o.d(C,{PUBLIC_COMPONENTS:()=>F,ThemeActions:()=>W,ThemeEffects:()=>G,ThemeModule:()=>x,ThemeReducer:()=>k,ThemeRepository:()=>B,initStore:()=>b});var s=o(24676),M=o(89982),S=o(10875),d=o(66623),t=o(47715),f=o(86718),n=o(7971),c=o(87776),_=o(18291),l=o(48074),i=o(48235);const E="SET_ACTIVE_THEME",v="SET_ACTIVE_THEME_COMPLETE",I=(0,t.createAction)(E,(0,t.props)()),P=(0,t.createAction)(v,(0,t.props)());var W=Object.freeze({__proto__:null,SET_ACTIVE_THEME:E,SET_ACTIVE_THEME_COMPLETE:v,setActiveTheme:I,setActiveThemeComplete:P});const w=(0,t.createReducer)({isThemeDark:!1,activeTheme:void 0,activeThemeCssClass:f.Q2.MATERIAL_3},(0,t.on)(P,(e,{newState:h})=>({...h})));function R(e,h){return w(e,h)}const D=(0,t.createFeatureSelector)("_themeState"),g=(0,t.createSelector)(D,e=>e),L=(0,t.createSelector)(D,e=>e.activeTheme),y=(0,t.createSelector)(D,e=>e.isThemeDark),N=(0,t.createSelector)(D,e=>e.activeThemeCssClass);var k=Object.freeze({__proto__:null,getActiveTheme:L,getCssClass:N,isThemeDark:y,reducer:R,themeState:g});let U=class O{constructor(h,r,a,A){this.themeService=h,this.actions$=r,this.store=a,this.setActiveTheme$=(0,n.createEffect)(()=>this.actions$.pipe((0,n.ofType)(I),(0,c.U)(({theme:T,darkness:m})=>{let p;this.store.select(g).pipe((0,_.q)(1)).subscribe($=>p=$);let u={...p};return null===m?m=p.isThemeDark:p.isThemeDark===m||(u.isThemeDark=m),u.activeTheme=Object.values(f.Q2).includes(T)?T:f.Q2.INDIGO_BL,this.themeService.setActiveTheme(u.activeTheme,u.isThemeDark),u.activeThemeCssClass=this.themeService.activeThemeCssClass,P({newState:u})}))),this.doc=A}static#e=this.\u0275fac=function(r){return new(r||O)(s.\u0275\u0275inject(f.fY),s.\u0275\u0275inject(n.Actions),s.\u0275\u0275inject(t.Store),s.\u0275\u0275inject(M.DOCUMENT))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac,providedIn:"platform"})};var G=Object.freeze({__proto__:null,ThemeEffects:U});let B=(()=>{class e{constructor(r){this.store=r}setActiveTheme(r,a){this.store.dispatch(I({theme:r,darkness:a}))}getActiveTheme$(){return this.store.select(L)}getActiveTheme(){let r;return this.getActiveTheme$().pipe((0,_.q)(1)).subscribe(a=>r=a),r}isThemeDark$(){return this.store.select(y)}isThemeDark(){let r;return this.isThemeDark$().pipe((0,_.q)(1)).subscribe(a=>r=a),r}static#e=this.\u0275fac=function(a){return new(a||e)(s.\u0275\u0275inject(t.Store))};static#t=this.\u0275prov=s.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const F=[];function b(e){return r=>()=>(e.GetPartnerState("GlobalStore")&&(e.CreateStore("ActionStore",i.ActionReducer),e.CreateStore("GlobalStore",i.GlobalReducer),e.RegisterGlobalActions("ActionStore",[i.EMIT_ACTION,i.RESET_ACTION]),e.RegisterGlobalActions("GlobalStore",[i.EMIT_STATE]),e.Subscribe("ActionStore",A=>{let T=A.action;if(T){let m=(0,t.createAction)(T.actionType,(0,t.props)());r.dispatch(m({...T.payload})),e.DispatchAction("ActionStore",(0,i.ResetAction)())}}),r.select(g).subscribe(A=>{e.DispatchAction("GlobalStore",(0,i.EmitState)({stateName:"_themeState",payload:A}))})),()=>e)}let x=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:s.APP_INITIALIZER,useFactory:b(l.GlobalStore.Get(!1)),multi:!0,deps:[t.Store]}]}}static#e=this.\u0275fac=function(a){return new(a||e)};static#t=this.\u0275mod=s.\u0275\u0275defineNgModule({type:e});static#r=this.\u0275inj=s.\u0275\u0275defineInjector({providers:[B],imports:[M.CommonModule,d.RouterModule,S.TranslateModule,t.StoreModule.forRoot({}),t.StoreModule.forFeature("_themeState",R),n.EffectsModule.forFeature([U])]})}return e})()}}]);