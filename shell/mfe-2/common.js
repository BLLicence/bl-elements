(self.webpackChunkmfe_2=self.webpackChunkmfe_2||[]).push([[592],{59975:(V,D,r)=>{r.r(D),r.d(D,{PUBLIC_COMPONENTS:()=>$,ThemeActions:()=>y,ThemeEffects:()=>F,ThemeModule:()=>x,ThemeReducer:()=>G,ThemeRepository:()=>g,initStore:()=>L});var c=r(98173),C=r(8438),U=r(79350),B=r(79636),t=r(60103),h=r(86718),u=r(14915),K=r(87776),M=r(18291),W=r(10032),_=r(28810);const O="SET_ACTIVE_THEME",P="SET_ACTIVE_THEME_COMPLETE",d=(0,t.createAction)(O,(0,t.props)()),A=(0,t.createAction)(P,(0,t.props)());var y=Object.freeze({__proto__:null,SET_ACTIVE_THEME:O,SET_ACTIVE_THEME_COMPLETE:P,setActiveTheme:d,setActiveThemeComplete:A});const N=(0,t.createReducer)({isThemeDark:!1,activeTheme:void 0,activeThemeCssClass:h.Q2.MATERIAL_3},(0,t.on)(A,(e,{newState:i})=>({...i})));function S(e,i){return N(e,i)}const m=(0,t.createFeatureSelector)("_themeState"),v=(0,t.createSelector)(m,e=>e),I=(0,t.createSelector)(m,e=>e.activeTheme),p=(0,t.createSelector)(m,e=>e.isThemeDark),b=(0,t.createSelector)(m,e=>e.activeThemeCssClass);var G=Object.freeze({__proto__:null,getActiveTheme:I,getCssClass:b,isThemeDark:p,reducer:S,themeState:v});let R=class f{constructor(i,o,s,T){this.themeService=i,this.actions$=o,this.store=s,this.setActiveTheme$=(0,u.createEffect)(()=>this.actions$.pipe((0,u.ofType)(d),(0,K.U)(({theme:n,darkness:E})=>{let l;this.store.select(v).pipe((0,M.q)(1)).subscribe(H=>l=H);let a={...l};return null===E?E=l.isThemeDark:l.isThemeDark===E||(a.isThemeDark=E),a.activeTheme=Object.values(h.Q2).includes(n)?n:h.Q2.INDIGO_BL,this.themeService.setActiveTheme(a.activeTheme,a.isThemeDark),a.activeThemeCssClass=this.themeService.activeThemeCssClass,A({newState:a})}))),this.doc=T}static#e=this.\u0275fac=function(o){return new(o||f)(c.\u0275\u0275inject(h.fY),c.\u0275\u0275inject(u.Actions),c.\u0275\u0275inject(t.Store),c.\u0275\u0275inject(C.DOCUMENT))};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac,providedIn:"platform"})};var F=Object.freeze({__proto__:null,ThemeEffects:R});let g=(()=>{class e{constructor(o){this.store=o}setActiveTheme(o,s){this.store.dispatch(d({theme:o,darkness:s}))}getActiveTheme$(){return this.store.select(I)}getActiveTheme(){let o;return this.getActiveTheme$().pipe((0,M.q)(1)).subscribe(s=>o=s),o}isThemeDark$(){return this.store.select(p)}isThemeDark(){let o;return this.isThemeDark$().pipe((0,M.q)(1)).subscribe(s=>o=s),o}static#e=this.\u0275fac=function(s){return new(s||e)(c.\u0275\u0275inject(t.Store))};static#t=this.\u0275prov=c.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const $=[];function L(e){return o=>()=>(e.GetPartnerState("GlobalStore")&&(e.CreateStore("ActionStore",_.ActionReducer),e.CreateStore("GlobalStore",_.GlobalReducer),e.RegisterGlobalActions("ActionStore",[_.EMIT_ACTION,_.RESET_ACTION]),e.RegisterGlobalActions("GlobalStore",[_.EMIT_STATE]),e.Subscribe("ActionStore",T=>{let n=T.action;if(n){let E=(0,t.createAction)(n.actionType,(0,t.props)());o.dispatch(E({...n.payload})),e.DispatchAction("ActionStore",(0,_.ResetAction)())}}),o.select(v).subscribe(T=>{e.DispatchAction("GlobalStore",(0,_.EmitState)({stateName:"_themeState",payload:T}))})),()=>e)}let x=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:c.APP_INITIALIZER,useFactory:L(W.GlobalStore.Get(!1)),multi:!0,deps:[t.Store]}]}}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275mod=c.\u0275\u0275defineNgModule({type:e});static#o=this.\u0275inj=c.\u0275\u0275defineInjector({providers:[g],imports:[C.CommonModule,B.RouterModule,U.TranslateModule,t.StoreModule.forRoot({}),t.StoreModule.forFeature("_themeState",S),u.EffectsModule.forFeature([R])]})}return e})()}}]);